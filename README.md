# Description
The SmartCar API acts as a forward proxy, standardizing the responses from the GM API. The API documentation is hosted at:
https://app.swaggerhub.com/apis/pink-cupcake/SmartCar/1.01

# Environment variables
```
LOG_FILE
ENVIRONMENT
PORT```

The `ENVIRONMENT` and `PORT` variables are optional. The default PORT is 8003.

## Example environment variables:
```bash
LOG_FILE=$(cd .; pwd)/app_api.log
```

# To run the app_api service
Requires go 1.13
```bash
cd SmartCar
go run app_api
```
Note: the executible binary is included and can be run directly. If it fails - check if the environment variables were set.

# To generate Swagger documentation
As mentioned in the Description, documentation is hosted at https://app.swaggerhub.com/apis/pink-cupcake/SmartCar/1.01
The JSON Swagger definition is generated via embedded comments. The Swagger definition is configured to be output at /swagger/swagger.json
The API definition can be regenerated by running:
```bash
go generate
```

# To test the API
```bash
go test ./...
```
Note: `go test ./...` should be run from the root directory for the project. These are unit tests for the API.

There are additional end to end tests I used on sandbox.py - but they aren't intended for robust smoke tests. It is comprehensive in that all API requests are accessed, and has a few variations(invalid vehicleID, invalid resource, etc.), but no assertions. This does include basic performance metrics, and the average response time is ~10ms

Results for sandbox requests against the API are saved in sandbox_results.json

# Logging
Currently logs are output to the project filepath, at the file app_api.log. This can be changed in the environment variables. 
The logs are compatible with NewRelic, Datadog, and can be further configured to a number of log centralization tools.